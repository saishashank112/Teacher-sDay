<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0"/>
<title>Teachers’ Day Wish Card</title>
<style>
  body {
    margin: 0;
    font-family: "Poppins", sans-serif;
    display: flex;
    justify-content: center;
    align-items: center;
    height: 100vh;
    background: #f5f5f5;
  }

  .card {
    position: relative;
    width: 450px;
    height: 540px;
    background: url("./images/wish.jpg") no-repeat center/cover; /* background image */
    border-radius: 16px;
    box-shadow: 0 12px 32px rgba(0, 0, 0, 0.25);
    overflow: hidden;
    padding: 30px 20px;
    text-align: center;
    margin-bottom: 20px;
  }

  /* overlay text box */
  .card-content {
    font-size: 0.9rem;
    line-height: 1.5;
    color: #2a2a2a;
    font-weight: 500;
    background: rgba(255, 255, 255, 0.7);
    padding: 18px;
    border-radius: 12px;
    height: 85%;
    overflow-y: auto;
    box-shadow: inset 0 0 8px rgba(0, 0, 0, 0.1);
  }

  .card-content strong {
    color: #e63946;
  }

  .footer {
    margin-top: 12px;
    font-weight: 600;
    color: #1d3557;
    font-size: 1rem;
  }

  /* button */
  .actions {
    margin-top: 20px;
    text-align: center;
  }
  button {
    border: none;
    padding: 10px 18px;
    background: linear-gradient(45deg, #ff6ec7, #42e695, #7873f5);
    color: #fff;
    font-weight: 600;
    border-radius: 8px;
    cursor: pointer;
    transition: 0.2s;
  }
  button:hover {
    transform: scale(1.05);
    box-shadow: 0 0 15px rgba(255, 110, 199, 0.5);
  }
  .card-wrapper {
  display: flex;
  align-items: center;       /* vertical alignment */
  justify-content: center;   /* center them horizontally */
  gap: 20px;                 /* space between card and button */
  margin-top: 30px;
}

.actions button {
  border: none;
  padding: 12px 20px;
  background: linear-gradient(45deg, #ff6ec7, #42e695, #7873f5);
  color: #fff;
  font-weight: 600;
  border-radius: 8px;
  cursor: pointer;
  transition: 0.2s;
}

.actions button:hover {
  transform: scale(1.05);
  box-shadow: 0 0 15px rgba(255, 110, 199, 0.5);
}

</style>
</head>
<body>

<div>
<div class="card-wrapper">
  <div class="card d-flex" id="greetingCard">
    <div class="card-content" id="cardBack">
      <!-- Dynamic wishes content will be inserted here -->
    </div>
  </div>

  <div class="actions">
    <button id="downloadBtn"> Click Me</button>
  </div>
</div>

</div>

<!-- html2canvas for download -->
<script src="https://cdn.jsdelivr.net/npm/html2canvas@1.4.1/dist/html2canvas.min.js"></script>
<script>
  const name = localStorage.getItem("teacherName") || "Esteemed Teacher";
  const subject = localStorage.getItem("subject") || "Engineering";
  const img = "images/logo.png";
  // full message
  const message = `
  <img src="${img}" alt="Logo" style="max-width:50px; margin:10px auto; display:block;" />
           Dear <strong>${name}</strong>,<br>
In the world of knowledge, ideas, and innovation, you add meaning and inspiration.
Your teaching in <strong>${subject}</strong> goes beyond books - it reaches our hearts and shapes our dreams.
You remind us that engineering is not just about formulas or machines, but about people and purpose.
Every lesson you deliver becomes a bridge to knowledge and a path to wisdom.
Your support gives us the courage to face failures and the strength to rise again.
You are the silent architect of our future, building us with patience and care.
The lessons we learn from you will guide us long after we leave these classrooms.
On this special day, we pause to express our deepest gratitude.
You are a true inspiration in every sense of the word.<br><br>
✨ Wishing you a heartfelt <strong>Happy Teachers’ Day!</strong> ✨<br><br>
With admiration,<br>
<strong>Team Yantrikee</strong>

  `;

  document.getElementById("cardBack").innerHTML = message;

  // download + redirect
  document.getElementById("downloadBtn").addEventListener("click", () => {
    const node = document.getElementById("greetingCard");
    html2canvas(node, { scale: 2 }).then(canvas => {
      const a = document.createElement("a");
      a.href = canvas.toDataURL("image/png");
      a.download = `WishCard_${name.replace(/\s+/g, "_")}.png`;
      a.click();
      setTimeout(() => window.location.href = "thankyou.html", 1200);
    });
  });
</script>
</body>
</html>
